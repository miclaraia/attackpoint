package com.michael.attackpoint;import android.app.Activity;import android.content.Intent;import android.os.Bundle;import android.support.v4.widget.DrawerLayout;import android.util.Log;import android.view.Menu;import android.view.MenuItem;import android.view.View;import android.widget.AdapterView;import com.michael.attackpoint.adapters.DrawerAdapter;import android.widget.ListView;import android.widget.Toast;import com.michael.attackpoint.dialogs.LoginActivity;import com.michael.network.Login;import com.michael.objects.NavDrawer;import com.michael.objects.NavDrawerItem;import java.util.ArrayList;public class MainActivity extends Activity {    public final static String EXTRA_MESSAGE = "com.michael.Attackpoint.MESSAGE";    private Login login;    private Singleton singleton;    private DrawerLayout drawer;    private ListView drawerList;    private ArrayList<NavDrawer> navMenuItems;    private String[] navMenuNames;    private int[] navMenuIcons;    private String[] navMenuGroups;    private Activity activity = this;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_main);        drawer = (DrawerLayout) findViewById(R.id.drawer_layout);        drawerList = (ListView) findViewById(R.id.left_drawer);        navMenuNames = getResources().getStringArray(R.array.nav_drawer_names);        navMenuIcons = getResources().getIntArray(R.array.nav_drawer_icons);        navMenuGroups = getResources().getStringArray(R.array.nav_drawer_groups);        navMenuItems = new ArrayList<>();        navMenuItems.add(new NavDrawer(navMenuGroups[0], NavDrawer.TYPE_SEPERATOR));        for (int i = 0; i < navMenuNames.length; i++) {            NavDrawerItem item = new NavDrawerItem(navMenuNames[i],                    navMenuGroups[i], navMenuIcons[i]);            if (i > 0 && !navMenuGroups[i].equals(navMenuGroups[i-1])) {                navMenuItems.add(new NavDrawer(navMenuGroups[i], NavDrawer.TYPE_SEPERATOR));            }            navMenuItems.add(item);        }        drawerList.setAdapter(new DrawerAdapter(this, navMenuItems));        // Set the list's click listener        drawerList.setOnItemClickListener(new DrawerClickListener());        singleton = Singleton.getInstance();        login = singleton.getLogin();    }    // log in to attackpoint    public void login(View view) {        Toast.makeText(this, "login pressed", Toast.LENGTH_LONG).show();        Intent intent = new Intent(this, LoginActivity.class);        startActivity(intent);        //login.login();    }    // log out from attackpoint by clearing cookie    public void logout(View view) {        Toast.makeText(this, "logout pressed", Toast.LENGTH_LONG).show();        login.logout();    }    @Override    public boolean onCreateOptionsMenu(Menu menu) {        // Inflate the menu; this adds items to the action bar if it is present.        getMenuInflater().inflate(R.menu.main, menu);        return true;    }        @Override    public boolean onOptionsItemSelected(MenuItem item) {        // Handle presses on the action bar items        switch (item.getItemId()) {            case R.id.action_search:                Log.d("info","menu action: action_search");                return true;            case R.id.action_settings:                Log.d("info","menu action: action_settings");                return true;            default:                return super.onOptionsItemSelected(item);        }    }    private class DrawerClickListener implements ListView.OnItemClickListener {        @Override        public void onItemClick(AdapterView parent, View view, int position, long id) {            Toast.makeText(activity, "Drawer item clicked!", Toast.LENGTH_LONG).show();        }    }}